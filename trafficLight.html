<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Traffic Light</title>
    <style>
    li {
      display: inline;
    }
    .trafficSignal {
      width:160px;
      height:420px;
      margin-left:60px;
      background-color: #f1c42c;
      border-radius: 10px;
      padding:20px 0;
    }

    .light {
      border:solid black 2px;
      border-top:solid black 6px;
      width:110px;
      height:110px;
      background-color: #6e570e;
      border-radius:90px;
      margin:0 26px;
      margin-bottom:10px;
    }
    </style>
  </head>
  <body>
    <nav>
      <ul class = "trafficControls">
        <li><button class="stop">Stop</li>
        <li><button class="slow">Slow</li>
        <li><button class="go">Go</li>
        <li><button class="caution">Caution</li>
     </ul>
    </nav>
    <section class = "trafficSignal">
          <div class = "light" id = "redLight">

          </div>
          <div class = "light" id = "yellowLight">

          </div>
          <div class = "light" id = "greenLight">

          </div>
    </section>

  </body>
  <script>
  var trafficButtons = document.querySelector(".trafficControls");
  trafficButtons.addEventListener("click", signalChanger,false);

  var redLight = document.querySelector("#redLight");
  var yellowLight = document.querySelector("#yellowLight");
  var greenLight = document.querySelector("#greenLight");
  var cautionOn = "";
  var currentCautionColor = "black";

  function resetSignal(){
      clearInterval(cautionOn);
      redLight.style.backgroundColor  = "#6e570e";
      redLight.style.boxShadow = "2px 2px 10px 12px rgba(255,0,0,0)";
      yellowLight.style.backgroundColor = "#6e570e";
      yellowLight.style.boxShadow = "2px 2px 10px 12px rgba(255,255,0,0)";
      greenLight.style.backgroundColor = "#6e570e";
      greenLight.style.boxShadow = "2px 2px 10px 12px rgba(0,255,0,0)" ;
  };

  function blinker(){
    if(currentCautionColor=="yellow"){
      yellowLight.style.backgroundColor = "#6e570e";
        yellowLight.style.boxShadow = "2px 2px 10px 12px rgba(255,255,0,0)";
      currentCautionColor="black";
    }else{
      yellowLight.style.backgroundColor = "yellow";
      yellowLight.style.boxShadow = "2px 2px 10px 12px rgba(255,255,0,.25)";
      currentCautionColor="yellow";
    }
  }

  function signalChanger(e){
    var btarget = e.target;
    if(btarget.className==="stop"){
      resetSignal();
      redLight.style.backgroundColor  ="red";
      redLight.style.boxShadow = "2px 2px 10px 12px rgba(255,0,0,.25)"
    }
    if(btarget.className==="slow"){
        resetSignal();
        yellowLight.style.backgroundColor = "yellow";
        yellowLight.style.boxShadow = "2px 2px 10px 12px rgba(255,255,0,.25)"
    }
    if(btarget.className==="go"){
      resetSignal();
      greenLight.style.backgroundColor = "green";
      greenLight.style.boxShadow = "2px 2px 10px 12px rgba(0,255,0,.25)"
    }
    if(btarget.className==="caution"){
      resetSignal();
      cautionOn = setInterval(blinker, 1000);
    }
  }
  </script>
</html>
